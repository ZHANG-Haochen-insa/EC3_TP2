好的，根据实验要求，您需要编写和修改以下几个VHDL程序文件：

1.  **`machine_moore.vhd` - 【主要编写工作】**
    *   这是一个状态机的模板文件，您需要在这里完成大部分的逻辑设计。
    *   **第一部分任务**: 编写状态机逻辑，用于比较用户输入的按钮序列和存储在内存中的默认密码是否一致。
    *   **第二部分任务**: 扩展状态机，增加一个新的“密码修改”模式。

2.  **一个新的顶层文件（例如 `digicode_top.vhd`） - 【需要从零开始编写】**
    *   实验指导书中提到了一个 `page principale`，您需要创建一个新的VHDL文件作为整个设计的顶层模块。
    *   在这个文件中，您需要将 `machine_moore` 状态机、`memoire` 内存模块以及一个时钟分频器 `division_horloge` 实例化并正确地连接在一起。

3.  **一个新的时钟分频器文件（例如 `division_horloge.vhd`） - 【需要从零开始编写】**
    *   为了让人眼能观察到LED的变化，并且让状态机能稳定地检测到按钮按键，通常需要对开发板上的高速时钟进行分频。您需要编写一个简单的时钟分频器模块。

4.  **`code_entier_memoir.vhd` - 【需要修改】**
    *   在实验的第二部分，为了实现密码修改功能，您需要修改这个内存文件。
    *   具体的修改是为其增加写使能（`write enable`）和数据输入端口，使其不仅能读，还能被写入新的密码。

总结一下，您有 **2个新文件** 需要从头开始写，有 **1个文件** 需要在模板基础上进行主要编写，还有 **1个文件** 需要在第二部分进行修改。

---

### **在Vivado中的文件层级关系**

当您在Vivado中创建项目时，需要告诉软件哪个文件是“最顶层”的设计，其他文件都是它的“子模块”。这个项目的层级关系如下：

1.  **顶层设计 (Top Module):**
    *   `digicode_top.vhd`

2.  **子模块 (Sub-Modules / Children):**
    *   `machine_moore.vhd` (在 `digicode_top.vhd` 中被例化为 `U3_machine_etats`)
    *   `code_entier_memoir.vhd` (在 `digicode_top.vhd` 中被例化为 `U2_memoire`)
    *   `division_horloge.vhd` (在 `digicode_top.vhd` 中被例化为 `U1_div_horloge`)

**操作步骤：**

1.  在Vivado中创建一个新项目。
2.  将以下 **全部四个** `.vhd` 文件作为设计源（Design Sources）添加到项目中：
    *   `digicode_top.vhd`
    *   `machine_moore.vhd`
    *   `code_entier_memoir.vhd`
    *   `division_horloge.vhd`
3.  Vivado通常会自动分析并将 `digicode_top` 设为顶层。如果没有，您可以在“Sources”窗口中右键点击 `digicode_top.vhd` 并选择“Set as Top”。

这样，Vivado就能正确理解文件之间的调用关系并进行综合与实现。